@import "tailwindcss";

/* Stop tiny horizontal drifts on mobile */
html, body {
  max-width: 100%;
  overflow-x: hidden;
}
#root { overflow-x: hidden; }

/* Empêche la capture des gestes horizontaux, tout en autorisant le scroll vertical */
.before-after-wrapper {
  /* Sur mobile, on ne capte que le pan vertical : le slider ne bloquera pas le scroll */
  touch-action: pan-y;
}
/* Respect OS reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation: none !important; transition: none !important; }
}
body[data-reduce-motion="true"] *,
html:has(body[data-reduce-motion="true"]) * {
  animation: none !important;
  transition: none !important;
}

/* Gradient border + tilt hover for cards */
.gradient-card { position: relative; border-radius: 14px; }
.gradient-card::before {
  content: ''; position: absolute; inset: 0; border-radius: inherit; padding: 1px;
  background: linear-gradient(135deg,#ad9d64,#bb2988);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude; pointer-events:none;
}
.wow-tilt { transform-style: preserve-3d; transition: transform .25s ease, box-shadow .25s ease; }
.wow-tilt:hover { transform: translateY(-2px) rotateX(1.2deg) rotateY(-1.2deg); }

/* Ripple effect */
.ripple { position: relative; overflow: hidden; }
.ripple::after {
  content:''; position:absolute; inset:0; background: radial-gradient(circle, rgba(255,255,255,.4) 10%, rgba(255,255,255,0) 60%);
  transform: scale(0); opacity:0; transition: transform .4s ease, opacity .4s ease;
}
.ripple:active::after { transform: scale(3); opacity:1; }

/* Callout styling for "À retenir" */
.callout-title { position: relative; }
.callout { background: #faf7ef; border-left: 4px solid #ad9d64; padding: 12px 14px; border-radius: 8px; }

/* Glow hover (subtle) */
.glow-hover { transition: box-shadow .25s ease, transform .25s ease; }
.glow-hover:hover { box-shadow: 0 10px 24px rgba(173,157,100,.22), 0 6px 14px rgba(187,41,136,.18); }

/* Premium CTA button: gold→pink gradient + inner shadow */
.btn-cta {
  --cta-from: #ad9d64; /* gold */
  --cta-to: #bb2988;   /* pink */
  position: relative;
  display: inline-flex; align-items: center; justify-content: center;
  padding: 0.75rem 1.25rem; border-radius: 9999px; font-weight: 600;
  color: #fff; text-shadow: 0 1px 0 rgba(0,0,0,.18);
  background: linear-gradient(135deg, var(--cta-from) 0%, var(--cta-to) 100%);
  box-shadow: inset 0 2px 6px rgba(0,0,0,.18), 0 8px 22px rgba(187,41,136,.28);
  border: none;
  transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
}
.btn-cta:hover { transform: translateY(-1px); filter: saturate(1.05);
  box-shadow: inset 0 2px 6px rgba(0,0,0,.18), 0 12px 28px rgba(187,41,136,.34);
}
.btn-cta:active { transform: translateY(0); }
.btn-cta:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(187,41,136,.35); }

/* CTA size variants */
.btn-cta-sm { padding: 0.5rem 0.875rem; font-weight: 600; font-size: 0.875rem; }
.btn-cta-lg { padding: 0.875rem 1.5rem; font-weight: 700; font-size: 1rem; }

/* CTA surface only (no padding) for icon buttons */
.cta-surface { 
  color: #fff; border-radius: 9999px;
  background: linear-gradient(135deg, var(--cta-from, #ad9d64) 0%, var(--cta-to, #bb2988) 100%);
  box-shadow: inset 0 2px 6px rgba(0,0,0,.18), 0 8px 22px rgba(187,41,136,.28);
}

/* Pretty select matching CTA style */
.select-cta {
  -webkit-appearance: none;
  appearance: none;
  background: linear-gradient(135deg, var(--cta-from, #ad9d64) 0%, var(--cta-to, #bb2988) 100%);
  background-color: #bb2988; /* fallback */
  color: #fff; -webkit-text-fill-color: #fff;
  padding: 0.5rem 2.25rem 0.5rem 0.875rem;
  border-radius: 9999px;
  border: none;
  font-weight: 600;
  font-size: 1rem; /* éviter le zoom iOS */
  box-shadow: inset 0 2px 6px rgba(0,0,0,.18), 0 8px 22px rgba(187,41,136,.2);
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='white' viewBox='0 0 20 20'%3E%3Cpath d='M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.7rem center;
  background-size: 0.9rem;
  transition: transform .2s ease, filter .2s ease, box-shadow .2s ease;
}
.select-cta:focus { outline: none; box-shadow: 0 0 0 3px rgba(187,41,136,.35); }
.select-cta:hover { transform: translateY(-1px); filter: saturate(1.05); }
.select-cta option { color: #111; background: #fff; }

/* Brand-styled datepicker for rendez-vous */
.dabia-datepicker {
  border-radius: 18px;
  border: 1px solid rgba(173,157,100,0.35);
  box-shadow: 0 12px 30px rgba(0,0,0,0.16);
  overflow: hidden;
  font-size: 0.85rem;
}
.dabia-datepicker .react-datepicker__month-container {
  background: #fffdf8;
}
.dabia-datepicker .react-datepicker__header {
  background: linear-gradient(135deg,#ad9d64,#bb2988);
  border-bottom: none;
  padding-top: 0.75rem;
}
.dabia-datepicker .react-datepicker__current-month,
.dabia-datepicker .react-datepicker__day-name {
  color: #fff;
}
.dabia-datepicker .react-datepicker__day-name {
  font-weight: 500;
}
.dabia-datepicker .react-datepicker__day {
  width: 2rem;
  line-height: 2rem;
  margin: 0.1rem;
  border-radius: 9999px;
}
.dabia-datepicker .react-datepicker__day--selected,
.dabia-datepicker .react-datepicker__day--keyboard-selected {
  background: #bb2988;
  color: #fff;
}
.dabia-datepicker .react-datepicker__day--today {
  border: 1px solid rgba(173,157,100,0.9);
}
.dabia-datepicker .react-datepicker__day--outside-month {
  color: #d1d5db;
}
.dabia-datepicker .react-datepicker__day:hover {
  background: rgba(173,157,100,0.18);
}
.dabia-datepicker .react-datepicker__navigation-icon::before {
  border-color: #fff;
}

/* Pretty pill input for search */
.input-cta {
  appearance: none;
  width: 100%;
  background: #fff;
  border: 1px solid #e7dcbc;
  border-radius: 9999px;
  padding: 0.6rem 0.9rem 0.6rem 2.2rem;
  box-shadow: 0 4px 12px rgba(173,157,100,.12);
  transition: box-shadow .2s ease, border-color .2s ease;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23ad9d64' viewBox='0 0 24 24'%3E%3Cpath d='M10 2a8 8 0 105.293 14.293l4.207 4.207a1 1 0 001.414-1.414l-4.207-4.207A8 8 0 0010 2zm0 2a6 6 0 110 12 6 6 0 010-12z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: 0.75rem center;
  background-size: 1rem;
}
.input-cta::placeholder { color: #9ca3af; }
.input-cta:focus { outline: none; border-color: #ad9d64; box-shadow: 0 0 0 3px rgba(187,41,136,.25); }

/* Glassy gold topbar */
.topbar-glassy {
  background: rgba(173,157,100,0.18); /* slightly softer */
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
  border-bottom: 1px solid rgba(173,157,100,0.26); /* softer border */
}

/* Site‑wide: soften generic Tailwind `border` when no explicit color is set */
:root { --dabia-border-soft: rgba(173,157,100,0.22); }
.border:not([class*="border-"]) { border-color: var(--dabia-border-soft) !important; }

/* Soft card surfaces: blend into background across the site */
.soft-card,
.bg-white.border.rounded-xl,
.bg-white.border.rounded-lg,
.border.rounded-xl.bg-white,
.border.rounded-lg.bg-white {
  background-color: rgba(255,255,255,0.88) !important;
  backdrop-filter: blur(8px) saturate(140%);
  -webkit-backdrop-filter: blur(8px) saturate(140%);
  border-color: var(--dabia-border-soft) !important;
  box-shadow: 0 6px 18px rgba(173,157,100,.10);
}

/* Softer gray surfaces as well (TOC, notes…) */
.bg-gray-50.border.rounded-xl,
.border.rounded-xl.bg-gray-50 {
  background-color: rgba(250, 247, 239, 0.75) !important; /* warm off‑white */
  border-color: var(--dabia-border-soft) !important;
}

/* Global marquee utility (respects reduce-motion rules above) */
@keyframes dabia-marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
.marquee-track { width: max-content; animation: dabia-marquee 28s linear infinite; will-change: transform; }

/* Glassy button: subtle glass morphism for secondary CTAs */
.btn-glassy {
  position: relative; display: inline-flex; align-items: center; justify-content: center;
  padding: 0.5rem 1rem; border-radius: 9999px; font-weight: 600;
  color: #1f2937; /* gray-800 */
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(10px) saturate(140%);
  border: 1px solid rgba(173,157,100,0.35);
  box-shadow: 0 4px 16px rgba(173,157,100,.18);
  transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease;
}
.btn-glassy:hover { transform: translateY(-1px); background: rgba(255,255,255,0.75); }
.btn-glassy:active { transform: translateY(0); }
.btn-glassy:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(173,157,100,.35); }

/* Skeleton shimmer */
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
.skeleton {
  background: linear-gradient(90deg, rgba(0,0,0,0.06) 25%, rgba(0,0,0,0.1) 37%, rgba(0,0,0,0.06) 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s ease-in-out infinite;
}

/* Slow spin for logo loader */
@keyframes spin { to { transform: rotate(360deg); } }
.spin-slow { animation: spin 2.2s linear infinite; }

/* Footer: show only the first 4 links */
.footer-links-condensed > a:nth-child(n+5) { display: none; }

/* Pulse ring for floating emergency button */
.pulse-ring { position: relative; border-radius: 9999px; }
.pulse-ring::after {
  content: ""; position: absolute; inset: -6px; border-radius: inherit;
  border: 2px solid rgba(173,157,100,0.7);
  animation: dabia-pulse 1.8s ease-out infinite;
}
@keyframes dabia-pulse {
  0%   { transform: scale(0.9); opacity: .65; }
  70%  { transform: scale(1.35); opacity: 0; }
  100% { transform: scale(1.45); opacity: 0; }
}
